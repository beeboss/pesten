<html>
<!-- @@TODO: 27jun: soms nog undefined.png
  <title>durak.html</title>
  <body>
    <style>
    body {background-color: coral;}
    durak.html
    </style>


   <!-- nu geintegreerd <script src="./durak.js"</script>    -->
   <script>
   // --- init ---
   var house=["c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14","c15","c16","c17","c18","c19","c20","c21","c22","c23","c24","c25","c26","c27","c28","c29","c30","c31","c32","c33","c34","c35","c36","c37","c38","c39","c40","c41","c42","c43","c44","c45","c46","c47","c48","c49","c50","c51","c52","c53","c54"];
   // var house=["c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14"];
   var yourhand=[];


   function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }

      return array;
   }


   function buildHousestring() {
      var i;
      var housestring=""
      for (i=0 ; i< house.length ; i++) {
         housestring=housestring+"<img src=\"carddeck/" + house[i] + ".png\"  alt='housecard' width='4%\'>  ";
         }
      document.getElementById("house").innerHTML=housestring;
   }


   function buildHandstring() {
      var i;
      var handstring=""
      for (i=0 ; i< yourhand.length ; i++) {
         handstring=handstring+"<img src=\"carddeck/" + yourhand[i] + ".png\"  alt='handcard' width='4%\'>  ";
         }
      document.getElementById("yourhand").innerHTML=handstring;
   }


   function takecard() {
      if (house.length == 0) {
         document.getElementById("comment").innerHTML = "no cards left in house";
         return;
      }
      var willekeurig=Math.floor(Math.random()*house.length);
      document.getElementById("willekeurig").innerHTML = willekeurig;
      var cardcontent = house[willekeurig];
         document.getElementById("cardcontent").innerHTML = cardcontent;
         //   if (cardcontent > -1) {
         house.splice(willekeurig,1);
         yourhand.push(cardcontent);
         //  }
   }

   function desccard(lasttaken) {
	// describe last card which user took
        var serial = lasttaken.replace("c","");
        // -- suit
        if (serial <= 13) { suit = "schoppen" ; }
        else if (serial <= 26) { suit = "harten" ; }
        else if (serial <= 39) { suit = "klaver" ; }
        else if (serial <= 52) { suit = "ruiten" ; }
        else { suit="joker" ;}
        // -- value
        var rad=(serial%13);
        switch(rad) {
	    case 0:
	       value = "heer" ;
               break;
	    case 1:
	       value = "aas" ;
	       break;
	    case 11:
	       value = "boer" ;
	       break;
	    case 12:
	       value = "vrouw" ;
	       break;
	    default:
	       value = rad ;
	}
        document.getElementById("suit").innerHTML = suit + " " + value;
   }
   </script>


   <button onclick="shuffle(house) ; buildHousestring()">shuffle</button>
   <button onclick="takecard() ; desccard(yourhand[(yourhand.length-1)]) ; buildHandstring() ; buildHousestring()">take card</button>
   <h5>debug</h5>
       willekeurig:<p id="willekeurig"</p>
       cardcontent: <p id="cardcontent"></p>
       suit       : <p id="suit"></p>
       comment    :<p id="comment"></p>
   <h3>your hand</h3>
      <p id="yourhand">your hand goes here</p>

   <br>
   <h4>house</h4>
      <p id="house">house goes here</p>

   <br>
   <h4>trashed</h4>

   </body>
</html>
